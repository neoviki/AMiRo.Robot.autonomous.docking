###
# Description: mass erases and flashes the binary with OpenOCD
# Usage: openocd.exe" -f flash.cfg
###

source [find interface/olimex-arm-usb-tiny-h.cfg]
source [find board/olimex_stm32_h103.cfg]

jtag_khz 1000

init
reset
sleep 500
halt
stm32x mass_erase 0
flash write_image ..\\bin\\openbtl_olimex_stm32p103.elf
#flash write_image erase ..\\bin\\openbtl_olimex_stm32p103.elf
reset run
shutdown


